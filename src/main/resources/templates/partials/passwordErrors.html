<th:block th:fragment="errorScript">
    <script th:inline="javascript">
        const curPass = document.getElementById("curPassword")
        const newPass = document.getElementById("newPassword")
        const conPass = document.getElementById("conPassword")
        const passForm = document.getElementById("passForm")
        const errorElem = document.getElementById("error")

        passForm.addEventListener("submit", (e) => {
            let messages = []
            if (curPass.value === '' || curPass.value == null) {
                messages.push("Current password is required")
            }
            if (newPass.value === '' || newPass.value == null) {
                messages.push("New password is required")
            }
            if (conPass.value === '' || conPass.value == null) {
                messages.push("Confirm password is required")
            }
            if (curPass.value !== conPass.value) {
                messages.push("New password does not match")
            }
            if(messages.length > 0) {
                e.preventDefault()
                errorElem.innerText = messages.join(', ')
            }
        })

    </script>

</th:block>